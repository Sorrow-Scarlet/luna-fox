/* 画布交互样式 */

/* 画布覆盖层 */
.canvas-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 10;
}

/* 画布占位符 - 合并样式 */
.canvas-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #9ca3af;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  text-align: center;
}

.canvas-placeholder p {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 8px;
}

.canvas-placeholder .placeholder-text {
  font-size: 14px !important;
  font-weight: 400 !important;
  color: #d1d5db;
}

/* 特定元素类型样式 */
.border-element {
  border: 3px solid #802040;
  background-color: rgba(128, 32, 64, 0.05);
}

/* 中梃元素样式 */
.mullion-element {
  background-color: #802040; /* 与外矩形色彩一致 */
  border: none;
  z-index: 20;
}

/* 中梃指示线样式 */
.mullion-indicator {
  position: absolute;
  background-color: transparent;
  border: 2px dashed #667eea;
  pointer-events: none;
  z-index: 30;
  border-radius: 2px;
}

.grid-element {
  background-color: rgba(128, 32, 64, 0.05);
  border: 1px dashed #802040;
}

.sash-element {
  border: 2px solid #c43162;
  background-color: rgba(196, 49, 98, 0.1);
}

.sash-element.with-screen {
  background-image: linear-gradient(
      45deg,
      rgba(196, 49, 98, 0.1) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, rgba(196, 49, 98, 0.1) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgba(196, 49, 98, 0.1) 75%),
    linear-gradient(-45deg, transparent 75%, rgba(196, 49, 98, 0.1) 75%);
  background-size: 10px 10px;
  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;
}

/* 设计器画布相对定位 */
.designer-canvas {
  position: relative;
}

/* 虚线选择框 */
.selection-box {
  position: absolute;
  border: 2px dashed #667eea;
  background: rgba(102, 126, 234, 0.1);
  pointer-events: none;
  display: none;
  border-radius: 4px;
  animation: dashAnimation 0.5s linear infinite;
}

/* 虚线动画 */
@keyframes dashAnimation {
  0% {
    border-dashoffset: 0;
  }
  100% {
    border-dashoffset: 10;
  }
}

/* 工具按钮激活状态 */
.tool-btn.active {
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.1) 0%,
    rgba(118, 75, 162, 0.1) 100%
  );
  border-color: #667eea;
  color: #667eea;
}

.tool-btn.active .tool-icon {
  color: #667eea;
}

/* 画布鼠标样式 */
.designer-canvas {
  cursor: crosshair;
}

.designer-canvas.move-mode {
  cursor: move;
}

.designer-canvas.drawing-mode {
  cursor: crosshair;
}

/* 绘制的元素样式 */
.drawn-element {
  position: absolute;
  border: 2px solid #667eea;
  background: rgba(102, 126, 234, 0.05);
  pointer-events: auto;
  transition: all 0.2s ease;
}

.drawn-element:hover {
  border-color: #764ba2;
  background: rgba(118, 75, 162, 0.1);
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
}

.drawn-element.selected {
  border-color: #764ba2;
  background: rgba(118, 75, 162, 0.15);
  box-shadow: 0 0 0 2px rgba(118, 75, 162, 0.3);
}

/* 元素控制点 */
.resize-handle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #667eea;
  border: 2px solid #ffffff;
  border-radius: 50%;
  display: none;
}

.drawn-element.selected .resize-handle {
  display: block;
}

.resize-handle.nw {
  top: -4px;
  left: -4px;
  cursor: nw-resize;
}
.resize-handle.ne {
  top: -4px;
  right: -4px;
  cursor: ne-resize;
}
.resize-handle.sw {
  bottom: -4px;
  left: -4px;
  cursor: sw-resize;
}
.resize-handle.se {
  bottom: -4px;
  right: -4px;
  cursor: se-resize;
}
